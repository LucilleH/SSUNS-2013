BEGIN;
CREATE TABLE "mcmun_registeredschool" (
    "id" serial NOT NULL PRIMARY KEY,
y    "school_name" varchar(100) NOT NULL UNIQUE,
*   "first_time" boolean NOT NULL, 
*   "how_you_hear" varchar(2) NOT NULL,
*   "another_school" varchar(100) NOT NULL,
*   "other_method" varchar(100) NOT NULL,
y    "first_name" varchar(50) NOT NULL,
y    "last_name" varchar(50) NOT NULL,
y    "email" varchar(255) NOT NULL UNIQUE,
*   "delegate_email" varchar(255) NOT NULL UNIQUE,
*   "other_email" varchar(255) NOT NULL,
*   "mail_address" varchar(255) NOT NULL,
*   "city" varchar(100) NOT NULL,
*   "province_state" varchar(100) NOT NULL,
*   "postal_code" varchar(20) NOT NULL,
*   "advisor_phone" varchar(20) NOT NULL,
*   "fax" varchar(20) NOT NULL,
    "country" varchar(2) NOT NULL,
y    "num_delegates" integer NOT NULL,
y    "use_online_payment" boolean NOT NULL,
y    "use_tiered" boolean NOT NULL,
y    "use_priority" boolean NOT NULL,
*   "mcgill_tours" integer NOT NULL,
*   "disclaimer" boolean NOT NULL,
    "amount_paid" numeric(6, 2) NOT NULL,
    "num_pub_crawl" integer NOT NULL,
    "num_non_alcohol" integer NOT NULL,
    "is_approved" boolean NOT NULL,
    "pays_convenience_fee" boolean NOT NULL,
    "committee_1_id" integer REFERENCES "committees_committee" ("id") DEFERRABLE INITIALLY DEFERRED,
    "committee_2_id" integer REFERENCES "committees_committee" ("id") DEFERRABLE INITIALLY DEFERRED,
    "committee_3_id" integer REFERENCES "committees_committee" ("id") DEFERRABLE INITIALLY DEFERRED,
    "committee_4_id" integer REFERENCES "committees_committee" ("id") DEFERRABLE INITIALLY DEFERRED,
    "country_1" varchar(2) NOT NULL,
    "country_2" varchar(2) NOT NULL,
    "country_3" varchar(2) NOT NULL,
    "country_4" varchar(2) NOT NULL,
    "country_5" varchar(2) NOT NULL,
    "country_6" varchar(2) NOT NULL,
    "country_7" varchar(2) NOT NULL,
    "country_8" varchar(2) NOT NULL,
    "country_9" varchar(2) NOT NULL,
    "country_10" varchar(2) NOT NULL
)
;
CREATE TABLE "mcmun_scholarshipapp" (
    "id" serial NOT NULL PRIMARY KEY,
    "school_id" integer NOT NULL UNIQUE REFERENCES "mcmun_registeredschool" ("id") DEFERRABLE INITIALLY DEFERRED,
    "club_name" varchar(100) NOT NULL,
    "num_days_staying" integer NOT NULL,
    "previously_attended" boolean NOT NULL,
    "previous_scholarship_amount" integer,
    "previous_scholarship_year" integer,
    "impact_on_delegation" text NOT NULL,
    "principles_of_organisation" text NOT NULL,
    "importance_of_mcmun" text NOT NULL,
    "how_funding_works" text NOT NULL,
    "other_funding_sources" text NOT NULL,
    "budget" text NOT NULL,
    "other_information" text,
    "co_head_name" varchar(100),
    "co_head_email" varchar(255),
    "co_head_phone" varchar(20)
)
;
COMMIT;
